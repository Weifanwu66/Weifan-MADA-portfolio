{
  "hash": "b908b74622b68d7de3871782d47e51ef",
  "result": {
    "markdown": "---\ntitle: \"data analysis exercise\"\noutput:\n  html_document:\n    toc: FALSE\n---\n\n#data description This data set was found on [data.cdc.gov](https://data.cdc.gov/Foodborne-Waterborne-and-Related-Diseases/Botulism/66i6-hisz). The data set contains the information regarding the reported botulism cases, a national notifiable disease, reported in the United states. There are five variables presented in the header: State, Year, BotType (the type of transmission), ToxinType (the type of toxin), and Count (reported cases)\n\n#Setup load packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)#for loading csv file\nlibrary(here)#to set relative paths\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nhere() starts at C:/Users/weifa/OneDrive/Documents/GitKraken/MADA/data analysis/Weifan-MADA-portfolio\n```\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)#for data processing and cleaning\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyr)#for data processing and cleaning\nlibrary(skimr)#for browsing data\nlibrary(forcats)#for processing categorical data\n```\n:::\n\n\n#data loading\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_location=here(\"exercise\",\"data\",\"raw_data\",\"Botulism.csv\")\nbotulism=read_csv(data_location)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 2280 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (3): State, BotType, ToxinType\ndbl (2): Year, Count\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\n#checking data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#checking the variable type\nglimpse(botulism)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,280\nColumns: 5\n$ State     <chr> \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", …\n$ Year      <dbl> 1947, 1948, 1950, 1952, 1956, 1959, 1960, 1967, 1968, 1970, …\n$ BotType   <chr> \"Foodborne\", \"Foodborne\", \"Foodborne\", \"Foodborne\", \"Foodbor…\n$ ToxinType <chr> \"Unknown\", \"Unknown\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"Unknown…\n$ Count     <dbl> 3, 4, 5, 1, 5, 10, 2, 1, 1, 1, 2, 9, 3, 1, 2, 3, 1, 3, 3, 2,…\n```\n:::\n\n```{.r .cell-code}\n#checking the first few row of raw data\nhead(botulism,n=10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 5\n   State   Year BotType   ToxinType Count\n   <chr>  <dbl> <chr>     <chr>     <dbl>\n 1 Alaska  1947 Foodborne Unknown       3\n 2 Alaska  1948 Foodborne Unknown       4\n 3 Alaska  1950 Foodborne E             5\n 4 Alaska  1952 Foodborne E             1\n 5 Alaska  1956 Foodborne E             5\n 6 Alaska  1959 Foodborne E            10\n 7 Alaska  1960 Foodborne E             2\n 8 Alaska  1967 Foodborne E             1\n 9 Alaska  1968 Foodborne Unknown       1\n10 Alaska  1970 Foodborne E             1\n```\n:::\n:::\n\n\n#data cleaning after checking the data, R consider the numbers under `Year` as regular numbers (double), so we need to change it to character; Also, I consider `Count` as the outcome of interest, `ToxinType` & `BotType` might associate with the outcome in certain way. I am also interested in the spread of botulism-infection cases in the `states` and in different `years`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#convert Year to character\nd1=botulism%>%\n mutate(Year=as.character(Year))\n#check\nskim(d1)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |     |\n|:------------------------|:----|\n|Name                     |d1   |\n|Number of rows           |2280 |\n|Number of columns        |5    |\n|_______________________  |     |\n|Column type frequency:   |     |\n|character                |4    |\n|numeric                  |1    |\n|________________________ |     |\n|Group variables          |None |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|State         |        34|          0.99|   4|  14|     0|       50|          0|\n|Year          |         0|          1.00|   4|   4|     0|      111|          0|\n|BotType       |         0|          1.00|   5|   9|     0|        4|          0|\n|ToxinType     |         0|          1.00|   1|   7|     0|       14|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate| mean|   sd| p0| p25| p50| p75| p100|hist  |\n|:-------------|---------:|-------------:|----:|----:|--:|---:|---:|---:|----:|:-----|\n|Count         |         0|             1|  3.2| 4.63|  1|   1|   1|   3|   59|▇▁▁▁▁ |\n:::\n\n```{.r .cell-code}\nglimpse(d1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,280\nColumns: 5\n$ State     <chr> \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", …\n$ Year      <chr> \"1947\", \"1948\", \"1950\", \"1952\", \"1956\", \"1959\", \"1960\", \"196…\n$ BotType   <chr> \"Foodborne\", \"Foodborne\", \"Foodborne\", \"Foodborne\", \"Foodbor…\n$ ToxinType <chr> \"Unknown\", \"Unknown\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"Unknown…\n$ Count     <dbl> 3, 4, 5, 1, 5, 10, 2, 1, 1, 1, 2, 9, 3, 1, 2, 3, 1, 3, 3, 2,…\n```\n:::\n\n```{.r .cell-code}\n#convert Toxin type to a categorical variable\nd2=d1%>%\n  mutate(ToxinType=as_factor(ToxinType),BotType=as_factor(BotType))\n#check d2\nskim(d2)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |     |\n|:------------------------|:----|\n|Name                     |d2   |\n|Number of rows           |2280 |\n|Number of columns        |5    |\n|_______________________  |     |\n|Column type frequency:   |     |\n|character                |2    |\n|factor                   |2    |\n|numeric                  |1    |\n|________________________ |     |\n|Group variables          |None |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|State         |        34|          0.99|   4|  14|     0|       50|          0|\n|Year          |         0|          1.00|   4|   4|     0|      111|          0|\n\n\n**Variable type: factor**\n\n|skim_variable | n_missing| complete_rate|ordered | n_unique|top_counts                             |\n|:-------------|---------:|-------------:|:-------|--------:|:--------------------------------------|\n|BotType       |         0|             1|FALSE   |        4|Inf: 1151, Foo: 904, Wou: 152, Oth: 73 |\n|ToxinType     |         0|             1|FALSE   |       14|A: 964, B: 803, Unk: 370, E: 72        |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate| mean|   sd| p0| p25| p50| p75| p100|hist  |\n|:-------------|---------:|-------------:|----:|----:|--:|---:|---:|---:|----:|:-----|\n|Count         |         0|             1|  3.2| 4.63|  1|   1|   1|   3|   59|▇▁▁▁▁ |\n:::\n\n```{.r .cell-code}\nglimpse(d2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,280\nColumns: 5\n$ State     <chr> \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", \"Alaska\", …\n$ Year      <chr> \"1947\", \"1948\", \"1950\", \"1952\", \"1956\", \"1959\", \"1960\", \"196…\n$ BotType   <fct> Foodborne, Foodborne, Foodborne, Foodborne, Foodborne, Foodb…\n$ ToxinType <fct> \"Unknown\", \"Unknown\", \"E\", \"E\", \"E\", \"E\", \"E\", \"E\", \"Unknown…\n$ Count     <dbl> 3, 4, 5, 1, 5, 10, 2, 1, 1, 1, 2, 9, 3, 1, 2, 3, 1, 3, 3, 2,…\n```\n:::\n\n```{.r .cell-code}\nsummary(d2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    State               Year                BotType       ToxinType  \n Length:2280        Length:2280        Foodborne: 904   A      :964  \n Class :character   Class :character   Infant   :1151   B      :803  \n Mode  :character   Mode  :character   Wound    : 152   Unknown:370  \n                                       Other    :  73   E      : 72  \n                                                        F      : 43  \n                                                        Bf     :  8  \n                                                        (Other): 20  \n     Count       \n Min.   : 1.000  \n 1st Qu.: 1.000  \n Median : 1.000  \n Mean   : 3.199  \n 3rd Qu.: 3.000  \n Max.   :59.000  \n                 \n```\n:::\n:::\n\n\n#save data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#assign the processed data to an object called processeddata\nprocesseddata=d2\n#set a relative path for saved data\nsave_data_location=here(\"exercise\",\"data\",\"processed_data\",\"processeddata.rds\")\nsaveRDS(processeddata,file=save_data_location)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}